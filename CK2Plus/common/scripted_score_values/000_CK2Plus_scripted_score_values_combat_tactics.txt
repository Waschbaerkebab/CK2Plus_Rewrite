##################################################################
#
#	CK2Plus Scripted Score Values used in Combat Tactics
#
##################################################################
#
#	Starting scope is 'combat' (one of three flanks in battle)
#
##################################################################

##################################################################
#
#	INDEX
#
#	technology_skirmish_tier_1_factor
#	technology_melee_tier_1_factor
#	technology_infantry_tier_1_factor
#	technology_cavalry_tier_1_factor
#
#	martial_tier_2_factor
#	martial_tier_3_factor
#	martial_tier_4_factor
#	martial_tier_5_factor
#
#	traits_tier_2_factor
#	traits_tier_3_factor
#	traits_tier_4_factor
#	traits_tier_5_factor
#
#	light_foot_troops_tier_2_factor
#	light_foot_troops_tier_3_factor
#	light_foot_troops_tier_4_factor
#	light_foot_troops_tier_5_factor
#
#	heavy_troops_tier_2_factor
#	heavy_troops_tier_3_factor
#	heavy_troops_tier_4_factor
#	heavy_troops_tier_5_factor
#
#	mounted_troops_tier_2_factor
#	mounted_troops_tier_3_factor
#	mounted_troops_tier_4_factor
#	mounted_troops_tier_5_factor
#
#	elephants_troops_tier_2_factor
#	elephants_troops_tier_3_factor
#	elephants_troops_tier_4_factor
#	elephants_troops_tier_5_factor
#
#	offensive_tactic_factor
#	defensive_tactic_factor
#
#	volley_flank_composition_factor
#	swarm_flank_composition_factor
#	harass_flank_composition_factor
#	raid_flank_composition_factor
#	feint_selection_factor
#
#	shock_charge_flank_composition_factor
#	skirmish_charge_flank_composition_factor
#	elephant_charge_flank_composition_factor
#	approach_flank_composition_factor
#
#	shieldwall_flank_composition_factor
#	advance_flank_composition_factor
#	ambush_selection_factor
#	hammer_and_anvil_flank_composition_factor
#	single_envelopment_flank_composition_factor
#
##################################################################

##################################################################
#
#	Quality selection factors
#
##################################################################

# Technology reduces chances of the worst tactic quality
technology_skirmish_tier_1_factor = {
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_SKIRMISH >= 1
					}
					trigger_else = {
						capital_scope = {
							TECH_SKIRMISH >= 1
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_SKIRMISH >= 1
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_SKIRMISH >= 1
				}
				trigger_else = {
					capital_scope = {
						TECH_SKIRMISH >= 1
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_SKIRMISH >= 2
					}
					trigger_else = {
						capital_scope = {
							TECH_SKIRMISH >= 2
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_SKIRMISH >= 2
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_SKIRMISH >= 2
				}
				trigger_else = {
					capital_scope = {
						TECH_SKIRMISH >= 2
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_SKIRMISH >= 3
					}
					trigger_else = {
						capital_scope = {
							TECH_SKIRMISH >= 3
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_SKIRMISH >= 3
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_SKIRMISH >= 3
				}
				trigger_else = {
					capital_scope = {
						TECH_SKIRMISH >= 3
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_SKIRMISH >= 4
					}
					trigger_else = {
						capital_scope = {
							TECH_SKIRMISH >= 4
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_SKIRMISH >= 4
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_SKIRMISH >= 4
				}
				trigger_else = {
					capital_scope = {
						TECH_SKIRMISH >= 4
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_SKIRMISH >= 5
					}
					trigger_else = {
						capital_scope = {
							TECH_SKIRMISH >= 5
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_SKIRMISH >= 5
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_SKIRMISH >= 5
				}
				trigger_else = {
					capital_scope = {
						TECH_SKIRMISH >= 5
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_SKIRMISH >= 6
					}
					trigger_else = {
						capital_scope = {
							TECH_SKIRMISH >= 6
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_SKIRMISH >= 6
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_SKIRMISH >= 6
				}
				trigger_else = {
					capital_scope = {
						TECH_SKIRMISH >= 6
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_SKIRMISH >= 7
					}
					trigger_else = {
						capital_scope = {
							TECH_SKIRMISH >= 7
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_SKIRMISH >= 7
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_SKIRMISH >= 7
				}
				trigger_else = {
					capital_scope = {
						TECH_SKIRMISH >= 7
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_SKIRMISH >= 8
					}
					trigger_else = {
						capital_scope = {
							TECH_SKIRMISH >= 8
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_SKIRMISH >= 8
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_SKIRMISH >= 8
				}
				trigger_else = {
					capital_scope = {
						TECH_SKIRMISH >= 8
					}
				}
			}
		}
	}
}

technology_melee_tier_1_factor = {
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_MELEE >= 1
					}
					trigger_else = {
						capital_scope = {
							TECH_MELEE >= 1
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_MELEE >= 1
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_MELEE >= 1
				}
				trigger_else = {
					capital_scope = {
						TECH_MELEE >= 1
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_MELEE >= 2
					}
					trigger_else = {
						capital_scope = {
							TECH_MELEE >= 2
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_MELEE >= 2
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_MELEE >= 2
				}
				trigger_else = {
					capital_scope = {
						TECH_MELEE >= 2
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_MELEE >= 3
					}
					trigger_else = {
						capital_scope = {
							TECH_MELEE >= 3
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_MELEE >= 3
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_MELEE >= 3
				}
				trigger_else = {
					capital_scope = {
						TECH_MELEE >= 3
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_MELEE >= 4
					}
					trigger_else = {
						capital_scope = {
							TECH_MELEE >= 4
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_MELEE >= 4
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_MELEE >= 4
				}
				trigger_else = {
					capital_scope = {
						TECH_MELEE >= 4
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_MELEE >= 5
					}
					trigger_else = {
						capital_scope = {
							TECH_MELEE >= 5
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_MELEE >= 5
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_MELEE >= 5
				}
				trigger_else = {
					capital_scope = {
						TECH_MELEE >= 5
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_MELEE >= 6
					}
					trigger_else = {
						capital_scope = {
							TECH_MELEE >= 6
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_MELEE >= 6
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_MELEE >= 6
				}
				trigger_else = {
					capital_scope = {
						TECH_MELEE >= 6
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_MELEE >= 7
					}
					trigger_else = {
						capital_scope = {
							TECH_MELEE >= 7
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_MELEE >= 7
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_MELEE >= 7
				}
				trigger_else = {
					capital_scope = {
						TECH_MELEE >= 7
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_MELEE >= 8
					}
					trigger_else = {
						capital_scope = {
							TECH_MELEE >= 8
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_MELEE >= 8
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_MELEE >= 8
				}
				trigger_else = {
					capital_scope = {
						TECH_MELEE >= 8
					}
				}
			}
		}
	}
}

technology_infantry_tier_1_factor = {
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_INFANTRY >= 1
					}
					trigger_else = {
						capital_scope = {
							TECH_INFANTRY >= 1
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_INFANTRY >= 1
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_INFANTRY >= 1
				}
				trigger_else = {
					capital_scope = {
						TECH_INFANTRY >= 1
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_INFANTRY >= 2
					}
					trigger_else = {
						capital_scope = {
							TECH_INFANTRY >= 2
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_INFANTRY >= 2
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_INFANTRY >= 2
				}
				trigger_else = {
					capital_scope = {
						TECH_INFANTRY >= 2
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_INFANTRY >= 3
					}
					trigger_else = {
						capital_scope = {
							TECH_INFANTRY >= 3
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_INFANTRY >= 3
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_INFANTRY >= 3
				}
				trigger_else = {
					capital_scope = {
						TECH_INFANTRY >= 3
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_INFANTRY >= 4
					}
					trigger_else = {
						capital_scope = {
							TECH_INFANTRY >= 4
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_INFANTRY >= 4
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_INFANTRY >= 4
				}
				trigger_else = {
					capital_scope = {
						TECH_INFANTRY >= 4
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_INFANTRY >= 5
					}
					trigger_else = {
						capital_scope = {
							TECH_INFANTRY >= 5
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_INFANTRY >= 5
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_INFANTRY >= 5
				}
				trigger_else = {
					capital_scope = {
						TECH_INFANTRY >= 5
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_INFANTRY >= 6
					}
					trigger_else = {
						capital_scope = {
							TECH_INFANTRY >= 6
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_INFANTRY >= 6
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_INFANTRY >= 6
				}
				trigger_else = {
					capital_scope = {
						TECH_INFANTRY >= 6
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_INFANTRY >= 7
					}
					trigger_else = {
						capital_scope = {
							TECH_INFANTRY >= 7
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_INFANTRY >= 7
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_INFANTRY >= 7
				}
				trigger_else = {
					capital_scope = {
						TECH_INFANTRY >= 7
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_INFANTRY >= 8
					}
					trigger_else = {
						capital_scope = {
							TECH_INFANTRY >= 8
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_INFANTRY >= 8
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_INFANTRY >= 8
				}
				trigger_else = {
					capital_scope = {
						TECH_INFANTRY >= 8
					}
				}
			}
		}
	}
}

technology_cavalry_tier_1_factor = {
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_CAVALRY >= 1
					}
					trigger_else = {
						capital_scope = {
							TECH_CAVALRY >= 1
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_CAVALRY >= 1
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_CAVALRY >= 1
				}
				trigger_else = {
					capital_scope = {
						TECH_CAVALRY >= 1
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_CAVALRY >= 2
					}
					trigger_else = {
						capital_scope = {
							TECH_CAVALRY >= 2
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_CAVALRY >= 2
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_CAVALRY >= 2
				}
				trigger_else = {
					capital_scope = {
						TECH_CAVALRY >= 2
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_CAVALRY >= 3
					}
					trigger_else = {
						capital_scope = {
							TECH_CAVALRY >= 3
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_CAVALRY >= 3
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_CAVALRY >= 3
				}
				trigger_else = {
					capital_scope = {
						TECH_CAVALRY >= 3
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_CAVALRY >= 4
					}
					trigger_else = {
						capital_scope = {
							TECH_CAVALRY >= 4
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_CAVALRY >= 4
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_CAVALRY >= 4
				}
				trigger_else = {
					capital_scope = {
						TECH_CAVALRY >= 4
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_CAVALRY >= 5
					}
					trigger_else = {
						capital_scope = {
							TECH_CAVALRY >= 5
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_CAVALRY >= 5
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_CAVALRY >= 5
				}
				trigger_else = {
					capital_scope = {
						TECH_CAVALRY >= 5
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_CAVALRY >= 6
					}
					trigger_else = {
						capital_scope = {
							TECH_CAVALRY >= 6
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_CAVALRY >= 6
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_CAVALRY >= 6
				}
				trigger_else = {
					capital_scope = {
						TECH_CAVALRY >= 6
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_CAVALRY >= 7
					}
					trigger_else = {
						capital_scope = {
							TECH_CAVALRY >= 7
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_CAVALRY >= 7
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_CAVALRY >= 7
				}
				trigger_else = {
					capital_scope = {
						TECH_CAVALRY >= 7
					}
				}
			}
		}
	}
	mult_modifier = {
		factor = 0.9
		flank_has_leader = yes
		leader = {
			trigger_if = { # Marshals and commanders use technology of their liege's capital
				limit = {
					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
				liege = {
					trigger_if = {
						limit = { is_nomadic = yes }
						TECH_CAVALRY >= 8
					}
					trigger_else = {
						capital_scope = {
							TECH_CAVALRY >= 8
						}
					}
				}
			}
			trigger_else_if = { # Mercenaries use technology of their home province
				limit = { mercenary = yes }
				primary_title = {
					capital_scope = {
						TECH_CAVALRY >= 8
					}
				}
			}
			trigger_else = { # Leaders of their own units use technology of their own capital
				trigger_if = {
					limit = { is_nomadic = yes}
					TECH_CAVALRY >= 8
				}
				trigger_else = {
					capital_scope = {
						TECH_CAVALRY >= 8
					}
				}
			}
		}
	}
}

# Martial modifiers for tactics
martial_tier_2_factor = {
	# Martial <= 25
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 1 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 2 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 3 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 4 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 5 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 6 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 7 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 8 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 9 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 10 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 11 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 12 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 13 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 14 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 15 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 16 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 17 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 18 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 19 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 20 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 21 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 22 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 23 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 24 }
	}
	mult_modifier = {
		factor = 1.05
		leader = { martial >= 25 }
	}

	# Martial > 25
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 26 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 27 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 28 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 29 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 30 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 31 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 32 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 33 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 34 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 35 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 36 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 37 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 38 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 39 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 40 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 41 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 42 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 43 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 44 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 45 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 46 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 47 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 48 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 49 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 50 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 51 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 52 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 53 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 54 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 55 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 56 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 57 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 58 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 59 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 60 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 61 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 62 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 63 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 64 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 65 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 66 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 67 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 68 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 69 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 70 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 71 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 72 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 73 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 74 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 75 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 76 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 77 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 78 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 79 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 80 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 81 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 82 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 83 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 84 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 85 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 86 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 87 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 88 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 89 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 90 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 91 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 92 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 93 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 94 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 95 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 96 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 97 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 98 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 99 }
	}
	mult_modifier = {
		factor = 1.01
		leader = { martial >= 100 }
	}
}

martial_tier_3_factor = {
	# Martial <= 25
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 1 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 2 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 3 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 4 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 5 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 6 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 7 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 8 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 9 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 10 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 11 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 12 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 13 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 14 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 15 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 16 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 17 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 18 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 19 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 20 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 21 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 22 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 23 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 24 }
	}
	mult_modifier = {
		factor = 1.10
		leader = { martial >= 25 }
	}

	# Martial > 25
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 26 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 27 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 28 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 29 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 30 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 31 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 32 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 33 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 34 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 35 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 36 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 37 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 38 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 39 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 40 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 41 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 42 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 43 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 44 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 45 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 46 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 47 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 48 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 49 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 50 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 51 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 52 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 53 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 54 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 55 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 56 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 57 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 58 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 59 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 60 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 61 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 62 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 63 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 64 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 65 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 66 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 67 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 68 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 69 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 70 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 71 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 72 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 73 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 74 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 75 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 76 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 77 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 78 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 79 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 80 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 81 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 82 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 83 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 84 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 85 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 86 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 87 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 88 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 89 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 90 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 91 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 92 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 93 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 94 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 95 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 96 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 97 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 98 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 99 }
	}
	mult_modifier = {
		factor = 1.02
		leader = { martial >= 100 }
	}
}

martial_tier_4_factor = {
	# Martial <= 25
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 1 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 2 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 3 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 4 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 5 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 6 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 7 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 8 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 9 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 10 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 11 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 12 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 13 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 14 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 15 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 16 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 17 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 18 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 19 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 20 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 21 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 22 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 23 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 24 }
	}
	mult_modifier = {
		factor = 1.15
		leader = { martial >= 25 }
	}

	# Martial > 25
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 26 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 27 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 28 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 29 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 30 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 31 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 32 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 33 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 34 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 35 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 36 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 37 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 38 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 39 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 40 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 41 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 42 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 43 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 44 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 45 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 46 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 47 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 48 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 49 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 50 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 51 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 52 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 53 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 54 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 55 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 56 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 57 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 58 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 59 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 60 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 61 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 62 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 63 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 64 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 65 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 66 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 67 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 68 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 69 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 70 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 71 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 72 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 73 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 74 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 75 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 76 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 77 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 78 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 79 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 80 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 81 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 82 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 83 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 84 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 85 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 86 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 87 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 88 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 89 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 90 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 91 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 92 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 93 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 94 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 95 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 96 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 97 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 98 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 99 }
	}
	mult_modifier = {
		factor = 1.03
		leader = { martial >= 100 }
	}
}

martial_tier_5_factor = {
	# Martial <= 25
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 1 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 2 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 3 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 4 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 5 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 6 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 7 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 8 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 9 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 10 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 11 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 12 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 13 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 14 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 15 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 16 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 17 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 18 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 19 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 20 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 21 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 22 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 23 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 24 }
	}
	mult_modifier = {
		factor = 1.20
		leader = { martial >= 25 }
	}

	# Martial > 25
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 26 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 27 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 28 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 29 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 30 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 31 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 32 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 33 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 34 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 35 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 36 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 37 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 38 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 39 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 40 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 41 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 42 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 43 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 44 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 45 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 46 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 47 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 48 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 49 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 50 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 51 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 52 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 53 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 54 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 55 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 56 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 57 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 58 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 59 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 60 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 61 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 62 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 63 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 64 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 65 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 66 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 67 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 68 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 69 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 70 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 71 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 72 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 73 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 74 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 75 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 76 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 77 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 78 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 79 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 80 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 81 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 82 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 83 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 84 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 85 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 86 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 87 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 88 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 89 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 90 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 91 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 92 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 93 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 94 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 95 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 96 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 97 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 98 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 99 }
	}
	mult_modifier = {
		factor = 1.04
		leader = { martial >= 100 }
	}
}

# Trait modifiers for tactics
traits_tier_2_factor = {
	# Terrain traits
	mult_modifier = {
		factor = 1.33 # roughly 6 martial
		plus_winter_arctic_trigger = yes
	}
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_flat_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_mountain_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_rough_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_jungle_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_desert_terrain_trigger = yes
	}

	# Warrior Lodge traits - terrain aspect
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_baltic_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_basque_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_bon_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_celtic_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_finnish_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_norse_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_slavic_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_tengri_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_zun_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_west_african_leader_terrain_trigger = yes
	}

	# Education traits
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		leader = { trait = brilliant_strategist }
	}
	mult_modifier = {
		factor = 1.15 # roughly 3 martial
		leader = { trait = skilled_tactician }
	}
	mult_modifier = {
		factor = 1.1 # roughly 2 martial
		leader = { trait = tough_soldier }
	}
	mult_modifier = {
		factor = 1.05 # roughly 1 martial
		leader = {	trait = misguided_warrior }
	}

	# Other military traits
	mult_modifier = {
		factor = 1.33 # roughly 6 martial
		plus_religious_enemies_holy_warrior_trigger = yes
	}

	# Flanking
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_center_flank_trigger = yes
	}
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_side_flank_trigger = yes
	}
}

traits_tier_3_factor = {
	# Terrain traits
	mult_modifier = {
		factor = 1.75 # roughly 6 martial
		plus_winter_arctic_trigger = yes
	}
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_flat_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_mountain_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_rough_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_jungle_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_desert_terrain_trigger = yes
	}

	# Warrior Lodge traits - terrain aspect
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_baltic_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_basque_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_bon_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_celtic_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_finnish_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_norse_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_slavic_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_tengri_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_zun_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_west_african_leader_terrain_trigger = yes
	}

	# Education traits
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		leader = { trait = brilliant_strategist }
	}
	mult_modifier = {
		factor = 1.33 # roughly 3 martial
		leader = { trait = skilled_tactician }
	}
	mult_modifier = {
		factor = 1.2 # roughly 2 martial
		leader = { trait = tough_soldier }
	}
	mult_modifier = {
		factor = 1.1 # roughly 1 martial
		leader = {	trait = misguided_warrior }
	}

	# Other military traits
	mult_modifier = {
		factor = 1.75 # roughly 6 martial
		plus_religious_enemies_holy_warrior_trigger = yes
	}

	# Flanking
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_center_flank_trigger = yes
	}
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_side_flank_trigger = yes
	}
}

traits_tier_4_factor = {
	# Terrain traits
	mult_modifier = {
		factor = 2.3 # roughly 6 martial
		plus_winter_arctic_trigger = yes
	}
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_flat_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_mountain_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_rough_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_jungle_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_desert_terrain_trigger = yes
	}

	# Warrior Lodge traits - terrain aspect
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_baltic_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_basque_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_bon_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_celtic_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_finnish_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_norse_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_slavic_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_tengri_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_zun_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_west_african_leader_terrain_trigger = yes
	}

	# Education traits
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		leader = { trait = brilliant_strategist }
	}
	mult_modifier = {
		factor = 1.5 # roughly 3 martial
		leader = { trait = skilled_tactician }
	}
	mult_modifier = {
		factor = 1.33 # roughly 2 martial
		leader = { trait = tough_soldier }
	}
	mult_modifier = {
		factor = 1.15 # roughly 1 martial
		leader = {	trait = misguided_warrior }
	}

	# Other military traits
	mult_modifier = {
		factor = 2.3 # roughly 6 martial
		plus_religious_enemies_holy_warrior_trigger = yes
	}

	# Flanking
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_center_flank_trigger = yes
	}
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_side_flank_trigger = yes
	}
}

traits_tier_5_factor = {
	# Terrain traits
	mult_modifier = {
		factor = 3 # roughly 6 martial
		plus_winter_arctic_trigger = yes
	}
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_flat_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_mountain_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_rough_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_jungle_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_desert_terrain_trigger = yes
	}

	# Warrior Lodge traits - terrain aspect
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_baltic_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_basque_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_bon_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_celtic_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_finnish_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_norse_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_slavic_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_tengri_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_zun_leader_terrain_trigger = yes
	}
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_west_african_leader_terrain_trigger = yes
	}

	# Education traits
	mult_modifier = {
		factor = 2 # roughly 4 martial
		leader = { trait = brilliant_strategist }
	}
	mult_modifier = {
		factor = 1.75 # roughly 3 martial
		leader = { trait = skilled_tactician }
	}
	mult_modifier = {
		factor = 1.5 # roughly 2 martial
		leader = { trait = tough_soldier }
	}
	mult_modifier = {
		factor = 1.25 # roughly 1 martial
		leader = {	trait = misguided_warrior }
	}

	# Damage against religious enemies
	mult_modifier = {
		factor = 3 # roughly 6 martial
		plus_religious_enemies_holy_warrior_trigger = yes
	}

	# Flanking
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_center_flank_trigger = yes
	}
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_side_flank_trigger = yes
	}
}

# Increases chance of picking a higher tier tactic involving light infantry
light_foot_troops_tier_2_factor = {
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_light_foot_troops_trigger = yes
	}
}

light_foot_troops_tier_3_factor = {
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_light_foot_troops_trigger = yes
	}
}

light_foot_troops_tier_4_factor = {
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_light_foot_troops_trigger = yes
	}
}

light_foot_troops_tier_5_factor = {
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_light_foot_troops_trigger = yes
	}
}

# Increases chance of picking a higher tier tactic involving heavy infantry
heavy_foot_troops_tier_2_factor = {
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_heavy_foot_troops_trigger = yes
	}
}

heavy_foot_troops_tier_3_factor = {
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_heavy_foot_troops_trigger = yes
	}
}

heavy_foot_troops_tier_4_factor = {
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_heavy_foot_troops_trigger = yes
	}
}

heavy_foot_troops_tier_5_factor = {
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_heavy_foot_troops_trigger = yes
	}
}

# Increases chance of picking a higher tier tactic involving light cavalry
light_mounted_troops_tier_2_factor = {
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_light_mounted_troops_trigger = yes
	}
}

light_mounted_troops_tier_3_factor = {
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_light_mounted_troops_trigger = yes
	}
}

light_mounted_troops_tier_4_factor = {
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_light_mounted_troops_trigger = yes
	}
}

light_mounted_troops_tier_5_factor = {
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_light_mounted_troops_trigger = yes
	}
}

# Increases chance of picking a higher tier tactic involving heavy cavalry
heavy_mounted_troops_tier_2_factor = {
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_heavy_mounted_troops_trigger = yes
	}
}

heavy_mounted_troops_tier_3_factor = {
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_heavy_mounted_troops_trigger = yes
	}
}

heavy_mounted_troops_tier_4_factor = {
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_heavy_mounted_troops_trigger = yes
	}
}

heavy_mounted_troops_tier_5_factor = {
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_heavy_mounted_troops_trigger = yes
	}
}

# Increases chance of picking a higher tier tactic involving war elephants
elephant_troops_tier_2_factor = {
	mult_modifier = {
		factor = 1.2 # roughly 4 martial
		plus_elephant_troops_trigger = yes
	}
}

elephant_troops_tier_3_factor = {
	mult_modifier = {
		factor = 1.5 # roughly 4 martial
		plus_elephant_troops_trigger = yes
	}
}

elephant_troops_tier_4_factor = {
	mult_modifier = {
		factor = 1.75 # roughly 4 martial
		plus_elephant_troops_trigger = yes
	}
}

elephant_troops_tier_5_factor = {
	mult_modifier = {
		factor = 2 # roughly 4 martial
		plus_elephant_troops_trigger = yes
	}
}

##################################################################
#
#	Group type selection factors
#
##################################################################

# Increases chances of selecting an offensive tactic group
offensive_tactic_factor = {
	# Aggressive traits
	mult_modifier = {
		factor = 1.5
		leader = { trait = aggressive_leader }
	}
	mult_modifier = {
		factor = 2
		leader = { trait = master_of_flame } # Way of the Dragon
	}
	mult_modifier = {
		factor = 2
		leader = { trait = wroth }
	}
	mult_modifier = {
		factor = 3
		leader = { trait = berserker }
	}
	mult_modifier = {
		factor = 2
		flank_has_leader = yes
		is_attacker = yes
		leader = {
			ai_rationality > 0
		}
	}
	mult_modifier = {
		factor = 2
		is_attacker = yes
		location = {
			OR = {
				terrain = plains
				terrain = farmlands
				terrain = steppe
			}
		}
	}
	mult_modifier = {
		factor = 2
		leader = {
			has_religion_feature = religion_warlike
		}
	}

	# More likely if outnumbering the enemy
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value <= 0.90
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value <= 0.80
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value <= 0.70
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value <= 0.60
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value <= 0.5
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value <= 0.33
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value <= 0.25
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value <= 0.20
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value <= 0.15
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value <= 0.10
			enemy = yes
		}
	}
}

# Increases chances of selecting a defensive tactic group
defensive_tactic_factor = {
	# Defensive traits
	mult_modifier = {
		factor = 1.5
		leader = { trait = unyielding_leader }
	}
	mult_modifier = {
		factor = 2
		leader = { trait = defensive_leader }
	}
	mult_modifier = {
		factor = 2
		leader = { trait = strategist }
	}
	mult_modifier = {
		factor = 1.5
		leader = { trait = patient }
	}
	mult_modifier = {
		factor = 2
		flank_has_leader = yes
		is_attacker = no
		leader = {
			ai_rationality > 0
		}
	}
	mult_modifier = {
		factor = 2
		is_attacker = no
		location = {
			OR = {
				terrain = forest
				terrain = jungle
				terrain = marsh
				terrain = hills
				terrain = mountain
			}
		}
	}
	mult_modifier = {
		factor = 2
		leader = {
			has_religion_feature = religion_defensive
		}
	}

	# More likely if outnumbered
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value >= 1.1
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value >= 1.25
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value >= 1.5
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value >= 1.75
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value >= 2.0
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value >= 3.0
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value >= 4.0
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value >= 5.0
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value >= 7.5
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.3
		troops = {
			who = troops
			value >= 10.0
			enemy = yes
		}
	}
}

# Affects chances of advancing or charging into melee combat
change_to_melee_selection_factor = {
	# More likely the longer a battle lasts
	mult_modifier = {
		factor = 1.5
		days = 12
	}
	mult_modifier = {
		factor = 1.5
		days = 15
	}
	mult_modifier = {
		factor = 1.5
		days = 18
	}
	mult_modifier = {
		factor = 1.5
		days = 21
	}
	mult_modifier = {
		factor = 1.5
		days = 24
	}
	mult_modifier = {
		factor = 1.5
		days = 27
	}

	# More likely on easy to traverse terrain
	mult_modifier = {
		factor = 2
		location = {
			OR = {
				terrain = plains
				terrain = farmlands
				terrain = steppe
			}
		}
	}
	mult_modifier = {
		factor = 1.5
		location = {
			OR = {
				terrain = arctic
				terrain = desert
			}
		}
	}

	# Less likely on hard to traverse terrain
	mult_modifier = {
		factor = 0.5
		location = {
			OR = {
				terrain = forest
				terrain = hills
			}
		}
	}
	mult_modifier = {
		factor = 0.25
		location = {
			OR = {
				terrain = jungle
				terrain = mountain
				terrain = marsh
			}
		}
	}

	# Less likely in winter
	mult_modifier = {
		factor = 0.9
		location = {
			is_winter = yes
			NOR = {
				climate = mild_winter
				climate = normal_winter
				climate = severe_winter
			}
		}
	}
	mult_modifier = {
		factor = 0.7
		location = {
			is_winter = yes
			climate = mild_winter
		}
	}
	mult_modifier = {
		factor = 0.5
		location = {
			is_winter = yes
			climate = normal_winter
		}
	}
	mult_modifier = {
		factor = 0.3
		location = {
			is_winter = yes
			climate = severe_winter
		}
	}

	# More likely against a small force
	mult_modifier = {
		factor = 1.2
		troops = {
			who = troops
			value <= 0.80
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.2
		troops = {
			who = troops
			value <= 0.60
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.2
		troops = {
			who = troops
			value <= 0.30
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 1.2
		troops = {
			who = troops
			value <= 0.20
			enemy = yes
		}
	}

	# Less likely against an overwhelming force
	mult_modifier = {
		factor = 0.7
		troops = {
			who = troops
			value >= 1.50
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 0.7
		troops = {
			who = troops
			value >= 2.00
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 0.7
		troops = {
			who = troops
			value >= 3.00
			enemy = yes
		}
	}
	mult_modifier = {
		factor = 0.7
		troops = {
			who = troops
			value >= 5.00
			enemy = yes
		}
	}

	# More likely with proportionally many melee oriented troops
	mult_modifier = {
		factor = 1.2
		troops = {
			who = heavy_troops
			value > 0.50
		}
	}
	mult_modifier = {
		factor = 1.2
		troops = {
			who = heavy_troops
			value >= 0.60
		}
	}
	mult_modifier = {
		factor = 1.2
		troops = {
			who = heavy_troops
			value >= 0.70
		}
	}
	mult_modifier = {
		factor = 1.2
		troops = {
			who = heavy_troops
			value >= 0.80
		}
	}
	mult_modifier = {
		factor = 1.2
		troops = {
			who = heavy_troops
			value >= 0.90
		}
	}

	# Less likely with proportionally fewer melee oriented troops
	mult_modifier = {
		factor = 0.7
		troops = {
			who = heavy_troops
			value <= 0.50
		}
	}
	mult_modifier = {
		factor = 0.7
		troops = {
			who = heavy_troops
			value <= 0.40
		}
	}
	mult_modifier = {
		factor = 0.7
		troops = {
			who = heavy_troops
			value <= 0.30
		}
	}
	mult_modifier = {
		factor = 0.7
		troops = {
			who = heavy_troops
			value <= 0.20
		}
	}
	mult_modifier = {
		factor = 0.7
		troops = {
			who = heavy_troops
			value <= 0.10
		}
	}
}

##################################################################
#
#	Group selection factors (skirmish phase)
#
##################################################################

# Affects chance of selecting a Volley group tactic, more likely with more archers, and against more horse archers
volley_flank_composition_factor = {
	# Own flank composition
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = archers
			value >= 0.20
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = archers
			value >= 0.25
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = archers
			value >= 0.30
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = archers
			value >= 0.35
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = archers
			value >= 0.40
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = archers
			value >= 0.45
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = archers
			value >= 0.50
		}
		leader = {
			martial >= 2
		}
	}

	# Opposite flank composition
	mult_modifier = {
		factor = 0.83

		enemy = {
			light_troops = {
				who = horse_archers
				value <= 0.10
			}
			leader = {
				martial >= 8
			}
		}
	}
	mult_modifier = {
		factor = 0.83

		enemy = {
			light_troops = {
				who = horse_archers
				value <= 0.20
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			light_troops = {
				who = horse_archers
				value >= 0.30
			}
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			light_troops = {
				who = horse_archers
				value >= 0.40
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			light_troops = {
				who = horse_archers
				value >= 0.50
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			light_troops = {
				who = horse_archers
				value >= 0.60
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			light_troops = {
				who = horse_archers
				value >= 0.70
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			light_troops = {
				who = horse_archers
				value >= 0.80
			}
		}

		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			light_troops = {
				who = horse_archers
				value >= 0.90
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			light_troops = {
				who = horse_archers
				value >= 1.00
			}
		}
		leader = {
			martial >= 2
		}
	}
}

# Affects chance of selecting a Swarm group tactic, more likely with more horse archers, and against more light cavalry
swarm_flank_composition_factor = {
	# Own flank composition
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = horse_archers
			value >= 0.20
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = horse_archers
			value >= 0.25
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = horse_archers
			value >= 0.30
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = horse_archers
			value >= 0.35
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = horse_archers
			value >= 0.40
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = horse_archers
			value >= 0.45
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = horse_archers
			value >= 0.50
		}
		leader = {
			martial >= 2
		}
	}

	# Opposite flank composition
	mult_modifier = {
		factor = 0.83

		enemy = {
			light_troops = {
				who = light_cavalry
				value <= 0.10
			}
		leader = {
			martial >= 20
		}
		}
	}
	mult_modifier = {
		factor = 0.83

		enemy = {
			light_troops = {
				who = light_cavalry
				value <= 0.20
			}
		}
		leader = {
			martial >= 18
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.30
			}
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.40
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.50
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.60
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.70
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.80
			}
		}

		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.90
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 1.00
			}
		}
		leader = {
			martial >= 2
		}
	}
}

# Affects chance of selecting a Harass group tactic, more likely with more light/camel cavalry, and against more light infantry/archers
harass_flank_composition_factor = {
	# Own flank composition
	mult_modifier = {
		factor = 1.2

		troops = {
			who = light_cavalry
			value >= 0.20
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.2

		troops = {
			who = light_cavalry
			value >= 0.25
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.2

		troops = {
			who = light_cavalry
			value >= 0.30
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.2

		troops = {
			who = light_cavalry
			value >= 0.35
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.2

		troops = {
			who = light_cavalry
			value >= 0.40
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.2

		troops = {
			who = light_cavalry
			value >= 0.45
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.2

		troops = {
			who = light_cavalry
			value >= 0.50
		}
		leader = {
			martial >= 2
		}
	}
	mult_modifier = {
		factor = 1.2

		troops = {
			who = camel_cavalry
			value >= 0.20
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.2

		troops = {
			who = camel_cavalry
			value >= 0.25
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.2

		troops = {
			who = camel_cavalry
			value >= 0.30
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.2

		troops = {
			who = camel_cavalry
			value >= 0.35
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.2

		troops = {
			who = camel_cavalry
			value >= 0.40
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.2

		troops = {
			who = camel_cavalry
			value >= 0.45
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.2

		troops = {
			who = camel_cavalry
			value >= 0.50
		}
		leader = {
			martial >= 2
		}
	}

	# Opposite flank composition
	mult_modifier = {
		factor = 0.83

		enemy = {
			troops = {
				who = light_infantry
				value <= 0.10
			}
			leader = {
				martial >= 8
			}
		}
	}
	mult_modifier = {
		factor = 0.83

		enemy = {
			troops = {
				who = light_infantry
				value <= 0.20
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			troops = {
				who = light_infantry
				value >= 0.30
			}
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			troops = {
				who = light_infantry
				value >= 0.40
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			troops = {
				who = light_infantry
				value >= 0.50
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			troops = {
				who = light_infantry
				value >= 0.60
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			troops = {
				who = light_infantry
				value >= 0.70
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			troops = {
				who = light_infantry
				value >= 0.80
			}
		}

		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			troops = {
				who = light_infantry
				value >= 0.90
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			troops = {
				who = light_infantry
				value >= 1.00
			}
		}
		leader = {
			martial >= 2
		}
	}
	mult_modifier = {
		factor = 0.83

		enemy = {
			troops = {
				who = archers
				value <= 0.10
			}
			leader = {
				martial >= 8
			}
		}
	}
	mult_modifier = {
		factor = 0.83

		enemy = {
			troops = {
				who = archers
				value <= 0.20
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			troops = {
				who = archers
				value >= 0.30
			}
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			troops = {
				who = archers
				value >= 0.40
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			troops = {
				who = archers
				value >= 0.50
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			troops = {
				who = archers
				value >= 0.60
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			troops = {
				who = archers
				value >= 0.70
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			troops = {
				who = archers
				value >= 0.80
			}
		}

		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			troops = {
				who = archers
				value >= 0.90
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			troops = {
				who = archers
				value >= 1.00
			}
		}
		leader = {
			martial >= 2
		}
	}
}

# Affects chance of selecting a Raid group tactic, more likely with more light troops, and against more light troops
raid_flank_composition_factor = {
	# Own flank composition
	mult_modifier = {
		factor = 1.1

		troops = {
			who = light_troops
			value >= 0.20
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = light_troops
			value >= 0.30
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = light_troops
			value >= 0.40
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = light_troops
			value >= 0.50
		}
		leader = {
			martial >= 2
		}
	}

	# Opposite flank composition
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = light_troops
				value >= 0.10
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = light_troops
				value >= 0.20
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = light_troops
				value >= 0.30
			}
		}
		leader = {
			martial >= 4
		}
	}
}

# Affects likelihood of attempting a Feint group tactic
feint_selection_factor = {
	# Education traits
	mult_modifier = {
		factor = 3
		leader = { trait = elusive_shadow }
	}
	mult_modifier = {
		factor = 2.5
		leader = { trait = intricate_webweaver }
	}
	mult_modifier = {
		factor = 2
		leader = { trait = flamboyant_schemer }
	}
	mult_modifier = {
		factor = 1.5
		leader = { trait = amateurish_plotter }
	}

	# Other traits
	mult_modifier = {
		factor = 1.5
		leader = { is_smart_trigger = yes }
	}
	mult_modifier = {
		factor = 1.5
		leader = { trait = gamer }
	}
	mult_modifier = {
		factor = 2
		leader = { trait = trickster }
	}
	mult_modifier = {
		factor = 3
		leader = { trait = deceitful }
	}

	# Terrain
	mult_modifier = {
		factor = 3
		location = {
			OR = {
				terrain = forest
				terrain = jungle
				terrain = marsh
				terrain = hills
				terrain = mountain
			}
		}
	}

	# Defender
	mult_modifier = {
		factor = 2
		flank_has_leader = yes
		is_attacker = no
	}
}

# Affects chance of selecting a Close Formation group tactic, more likely with more heavy infantry, and against cavalry and archers
close_formation_flank_composition_factor = {
	# Own flank composition
	mult_modifier = {
		factor = 1.1

		troops = {
			who = heavy_infantry
			value >= 0.10
		}
		leader = {
			martial >= 20
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = heavy_infantry
			value >= 0.20
		}
		leader = {
			martial >= 18
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = heavy_infantry
			value >= 0.30
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = heavy_infantry
			value >= 0.40
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = heavy_infantry
			value >= 0.50
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = heavy_infantry
			value >= 0.60
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = heavy_infantry
			value >= 0.70
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = heavy_infantry
			value >= 0.80
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = heavy_infantry
			value >= 0.90
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = heavy_infantry
			value >= 1.00
		}
		leader = {
			martial >= 2
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = pikemen
			value >= 0.10
		}
		leader = {
			martial >= 20
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = pikemen
			value >= 0.20
		}
		leader = {
			martial >= 18
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = pikemen
			value >= 0.30
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = pikemen
			value >= 0.40
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = pikemen
			value >= 0.50
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = pikemen
			value >= 0.60
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = pikemen
			value >= 0.70
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = pikemen
			value >= 0.80
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = pikemen
			value >= 0.90
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = pikemen
			value >= 1.00
		}
		leader = {
			martial >= 2
		}
	}

	# Opposite flank composition
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = archers
				value >= 0.10
			}
		}
		leader = {
			martial >= 20
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = archers
				value >= 0.20
			}
		}
		leader = {
			martial >= 18
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = archers
				value >= 0.30
			}
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = archers
				value >= 0.40
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = archers
				value >= 0.50
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = archers
				value >= 0.60
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = archers
				value >= 0.70
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = archers
				value >= 0.80
			}
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = archers
				value >= 0.90
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = archers
				value >= 1.00
			}
		}
		leader = {
			martial >= 2
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = light_cavalry
				value >= 0.10
			}
		}
		leader = {
			martial >= 20
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = light_cavalry
				value >= 0.20
			}
		}
		leader = {
			martial >= 18
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = light_cavalry
				value >= 0.30
			}
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = light_cavalry
				value >= 0.40
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = light_cavalry
				value >= 0.50
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = light_cavalry
				value >= 0.60
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = light_cavalry
				value >= 0.70
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = light_cavalry
				value >= 0.80
			}
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = light_cavalry
				value >= 0.90
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = light_cavalry
				value >= 1.00
			}
		}
		leader = {
			martial >= 2
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = camel_cavalry
				value >= 0.10
			}
		}
		leader = {
			martial >= 20
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = camel_cavalry
				value >= 0.20
			}
		}
		leader = {
			martial >= 18
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = camel_cavalry
				value >= 0.30
			}
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = camel_cavalry
				value >= 0.40
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = camel_cavalry
				value >= 0.50
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = camel_cavalry
				value >= 0.60
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = camel_cavalry
				value >= 0.70
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = camel_cavalry
				value >= 0.80
			}
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = camel_cavalry
				value >= 0.90
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = camel_cavalry
				value >= 1.00
			}
		}
		leader = {
			martial >= 2
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = horse_archers
				value >= 0.10
			}
		}
		leader = {
			martial >= 20
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = horse_archers
				value >= 0.20
			}
		}
		leader = {
			martial >= 18
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = horse_archers
				value >= 0.30
			}
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = horse_archers
				value >= 0.40
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = horse_archers
				value >= 0.50
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = horse_archers
				value >= 0.60
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = horse_archers
				value >= 0.70
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = horse_archers
				value >= 0.80
			}
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = horse_archers
				value >= 0.90
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = horse_archers
				value >= 1.00
			}
		}
		leader = {
			martial >= 2
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = knights
				value >= 0.10
			}
		}
		leader = {
			martial >= 20
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = knights
				value >= 0.20
			}
		}
		leader = {
			martial >= 18
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = knights
				value >= 0.30
			}
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = knights
				value >= 0.40
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = knights
				value >= 0.50
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = knights
				value >= 0.60
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = knights
				value >= 0.70
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = knights
				value >= 0.80
			}
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = knights
				value >= 0.90
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			troops = {
				who = knights
				value >= 1.00
			}
		}
		leader = {
			martial >= 2
		}
	}
}

##################################################################
#
#	Group selection factors (change-to-melee)
#
##################################################################

# Affects chance of selecting a shock charge group tactic, more likely with more cavalry, and against little cavalry
shock_charge_flank_composition_factor = {
	# Own flank composition
	mult_modifier = {
		factor = 1.2

		heavy_troops = {
			who = knights
			value >= 0.05
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.2

		heavy_troops = {
			who = knights
			value >= 0.075
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.2

		heavy_troops = {
			who = knights
			value >= 0.10
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = light_cavalry
			value >= 0.15
		}
		leader = {
			martial >= 24
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = light_cavalry
			value >= 0.20
		}
		leader = {
			martial >= 20
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = light_cavalry
			value >= 0.25
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = light_cavalry
			value >= 0.30
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = light_cavalry
			value >= 0.35
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = light_cavalry
			value >= 0.40
		}
		leader = {
			martial >= 4
		}
	}

	# Opposite flank composition
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.10
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.15
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.20
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.10
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.20
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.30
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = camel_cavalry
				value >= 0.10
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = camel_cavalry
				value >= 0.20
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = camel_cavalry
				value >= 0.30
			}
		}
		leader = {
			martial >= 4
		}
	}
}

# Affects chance of selecting a Cavalry Charge group tactic, more likely with more cavalry, and against few pikemen
cavalry_charge_flank_composition_factor = {
	# Own flank composition
	mult_modifier = {
		factor = 1.2

		heavy_troops = {
			who = knights
			value >= 0.05
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.2

		heavy_troops = {
			who = knights
			value >= 0.075
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.2

		heavy_troops = {
			who = knights
			value >= 0.10
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.2

		heavy_troops = {
			who = knights
			value >= 0.125
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.2

		heavy_troops = {
			who = knights
			value >= 0.15
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.2

		heavy_troops = {
			who = knights
			value >= 0.175
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = light_cavalry
			value >= 0.10
		}
		leader = {
			martial >= 24
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = light_cavalry
			value >= 0.20
		}
		leader = {
			martial >= 20
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = light_cavalry
			value >= 0.30
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = light_cavalry
			value >= 0.40
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = light_cavalry
			value >= 0.50
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = light_cavalry
			value >= 0.60
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = camel_cavalry
			value >= 0.10
		}
		leader = {
			martial >= 24
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = camel_cavalry
			value >= 0.20
		}
		leader = {
			martial >= 20
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = camel_cavalry
			value >= 0.30
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = camel_cavalry
			value >= 0.40
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = camel_cavalry
			value >= 0.50
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = camel_cavalry
			value >= 0.60
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = horse_archers
			value >= 0.10
		}
		leader = {
			martial >= 24
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = horse_archers
			value >= 0.20
		}
		leader = {
			martial >= 20
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = horse_archers
			value >= 0.30
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = horse_archers
			value >= 0.40
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = horse_archers
			value >= 0.50
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.2

		light_troops = {
			who = horse_archers
			value >= 0.60
		}
		leader = {
			martial >= 4
		}
	}

	# Opposite flank composition
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = pikemen
				value >= 0.10
			}
		}
		leader = {
			martial >= 20
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = pikemen
				value >= 0.20
			}
		}
		leader = {
			martial >= 18
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = pikemen
				value >= 0.30
			}
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = pikemen
				value >= 0.40
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = pikemen
				value >= 0.50
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = pikemen
				value >= 0.60
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = pikemen
				value >= 0.70
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = pikemen
				value >= 0.80
			}
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = pikemen
				value >= 0.90
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = pikemen
				value >= 1.00
			}
		}
		leader = {
			martial >= 2
		}
	}
}

# Affects chance of selecting a Skirmish Charge tactic, more likely with more light/heavy infantry, and against few elephants/cavalry
skirmish_charge_flank_composition_factor = {
	# Own flank composition
	mult_modifier = {
		factor = 1.1

		light_troops = {
			who = light_infantry
			value >= 0.20
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		light_troops = {
			who = light_infantry
			value >= 0.25
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		light_troops = {
			who = light_infantry
			value >= 0.30
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		light_troops = {
			who = light_infantry
			value >= 0.35
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		light_troops = {
			who = light_infantry
			value >= 0.40
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		light_troops = {
			who = light_infantry
			value >= 0.45
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		light_troops = {
			who = light_infantry
			value >= 0.50
		}
		leader = {
			martial >= 2
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = heavy_infantry
			value >= 0.20
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = heavy_infantry
			value >= 0.25
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = heavy_infantry
			value >= 0.30
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = heavy_infantry
			value >= 0.35
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = heavy_infantry
			value >= 0.40
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = heavy_infantry
			value >= 0.45
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = heavy_infantry
			value >= 0.50
		}
		leader = {
			martial >= 2
		}
	}

	# Opposite flank composition
	mult_modifier = {
		factor = 0.8

		enemy = {
			troops = {
				who = war_elephants
				value >= 0.025
			}
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			troops = {
				who = war_elephants
				value >= 0.05
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			troops = {
				who = war_elephants
				value >= 0.075
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			troops = {
				who = war_elephants
				value >= 0.10
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			troops = {
				who = war_elephants
				value >= 0.125
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			troops = {
				who = war_elephants
				value >= 0.15
			}
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			troops = {
				who = war_elephants
				value >= 0.175
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			troops = {
				who = war_elephants
				value >= 0.20
			}
		}
		leader = {
			martial >= 2
		}
	}
}

# Affects chance of selecting an Elephant Charge group tactic, more likely with more elephants
elephant_charge_flank_composition_factor = {
	# Own flank composition
	mult_modifier = {
		factor = 1.2

		troops = {
			who = war_elephants
			value >= 0.02
		}
		leader = {
			martial >= 18
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = war_elephants
			value >= 0.03
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = war_elephants
			value >= 0.04
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = war_elephants
			value >= 0.05
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = war_elephants
			value >= 0.06
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = war_elephants
			value >= 0.07
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = war_elephants
			value >= 0.08
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = war_elephants
			value >= 0.09
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		troops = {
			who = war_elephants
			value >= 0.10
		}
		leader = {
			martial >= 2
		}
	}
}

# Affects chance of selecting an Approach group tactic, more likely with more pikemen, and against more cavalry
approach_flank_composition_factor = {
	# Own flank composition
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.20
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.25
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.30
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.35
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.40
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		light_troops = {
			who = pikemen
			value >= 0.45
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.50
		}
		leader = {
			martial >= 2
		}
	}

	# Opposite flank composition
	mult_modifier = {
		factor = 1.1

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.025
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.05
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.075
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.10
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.125
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.15
			}
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.175
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.20
			}
		}
		leader = {
			martial >= 2
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.15
			}
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.20
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.25
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.30
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.35
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.40
			}
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.45
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.50
			}
		}
		leader = {
			martial >= 2
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = camel_cavalry
				value >= 0.15
			}
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = camel_cavalry
				value >= 0.20
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = camel_cavalry
				value >= 0.25
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = camel_cavalry
				value >= 0.30
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = camel_cavalry
				value >= 0.35
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = camel_cavalry
				value >= 0.40
			}
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = camel_cavalry
				value >= 0.45
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = camel_cavalry
				value >= 0.50
			}
		}
		leader = {
			martial >= 2
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = horse_archers
				value >= 0.15
			}
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = horse_archers
				value >= 0.20
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = horse_archers
				value >= 0.25
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = horse_archers
				value >= 0.30
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = horse_archers
				value >= 0.35
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = horse_archers
				value >= 0.40
			}
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = horse_archers
				value >= 0.45
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = horse_archers
				value >= 0.50
			}
		}
		leader = {
			martial >= 2
		}
	}
}

##################################################################
#
#	Quality selection factors (melee phase)
#
##################################################################

# Affects chance of selecting a Shieldwall group tactic, more likely with more heavy infantry and against less cavalry
shieldwall_flank_composition_factor = {
	# Own flank composition
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = heavy_infantry
			value >= 0.20
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = heavy_infantry
			value >= 0.25
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = heavy_infantry
			value >= 0.30
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = heavy_infantry
			value >= 0.35
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = heavy_infantry
			value >= 0.40
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		light_troops = {
			who = heavy_infantry
			value >= 0.45
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = heavy_infantry
			value >= 0.50
		}
		leader = {
			martial >= 2
		}
	}

	# Opposite flank composition
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.05
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.075
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.10
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.125
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.15
			}
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.175
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.20
			}
		}
		leader = {
			martial >= 2
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.30
			}
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.40
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.50
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.60
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.70
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.80
			}
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.90
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 1.00
			}
		}
		leader = {
			martial >= 2
		}
	}
}

# Affects chance of selecting an Advance group tactic, more likely with more pikemen and against more cavalry
advance_flank_composition_factor = {
	# Own flank composition
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.20
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.25
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.30
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.35
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.40
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		light_troops = {
			who = pikemen
			value >= 0.45
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.50
		}
		leader = {
			martial >= 2
		}
	}

	# Opposite flank composition
	mult_modifier = {
		factor = 1.2

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.05
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.075
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.10
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.125
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.15
			}
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.175
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.2

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.20
			}
		}
		leader = {
			martial >= 2
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.30
			}
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.40
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.50
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.60
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.70
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.80
			}
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.90
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 1.00
			}
		}
		leader = {
			martial >= 2
		}
	}
}

# Affects likelihood of attempting an Ambush group tactic
ambush_selection_factor = {
	# Education traits
	mult_modifier = {
		factor = 3
		leader = { trait = elusive_shadow }
	}
	mult_modifier = {
		factor = 2.5
		leader = { trait = intricate_webweaver }
	}
	mult_modifier = {
		factor = 2
		leader = { trait = flamboyant_schemer }
	}
	mult_modifier = {
		factor = 1.5
		leader = { trait = amateurish_plotter }
	}

	# Other traits
	mult_modifier = {
		factor = 1.5
		leader = { is_smart_trigger = yes }
	}
	mult_modifier = {
		factor = 1.5
		leader = { trait = gamer }
	}
	mult_modifier = {
		factor = 2
		leader = { trait = trickster }
	}
	mult_modifier = {
		factor = 3
		leader = { trait = deceitful }
	}

	# Terrain
	mult_modifier = {
		factor = 2
		location = {
			NOT = {
				terrain = desert
			}
		}
	}

	# Defender
	mult_modifier = {
		factor = 2
		flank_has_leader = yes
		is_attacker = no
	}
}

# Affects likelihood of attempting a Hammer and Anvil group tactic
hammer_and_anvil_flank_composition_factor = {
	# Own flank composition
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.05
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.10
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.15
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.20
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.25
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 1.1

		heavy_troops = {
			who = pikemen
			value >= 0.30
		}
		leader = {
			martial >= 2
		}
	}

	# Opposite flank composition
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.05
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.075
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.10
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.125
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.15
			}
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.175
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			heavy_troops = {
				who = knights
				value >= 0.20
			}
		}
		leader = {
			martial >= 2
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.30
			}
		}
		leader = {
			martial >= 16
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.40
			}
		}
		leader = {
			martial >= 14
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.50
			}
		}
		leader = {
			martial >= 12
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.60
			}
		}
		leader = {
			martial >= 10
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.70
			}
		}
		leader = {
			martial >= 8
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.80
			}
		}
		leader = {
			martial >= 6
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 0.90
			}
		}
		leader = {
			martial >= 4
		}
	}
	mult_modifier = {
		factor = 0.8

		enemy = {
			light_troops = {
				who = light_cavalry
				value >= 1.00
			}
		}
		leader = {
			martial >= 2
		}
	}
}